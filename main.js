(()=>{"use strict";var e={807:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),i=r(645),o=r.n(i)()(a());o.push([e.id,'root{--size: 10}*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;font-family:"Open Sans",sans-serif}body{display:flex;flex-direction:column;overflow:scroll}@media screen and (min-width: 860px){body{height:100vh}}footer{margin-top:auto;padding:.25rem 0;text-align:center;width:100%;background:#2e4d5c;font-size:.85rem}footer p{color:#bdf5f9}.root{width:100%;height:100%;background:#242a2d;padding:20px 0;position:relative}.boards-container{width:100%;margin-top:20px;padding:40px 10px;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:25px}@media screen and (min-width: 860px){.boards-container{flex-direction:row}}.gameboard{background:#2e4d5c;width:400px;aspect-ratio:1;display:grid;grid-template-columns:repeat(var(--size), 1fr);grid-template-rows:repeat(var(--size), 1fr)}@keyframes fade-in{from{opacity:0}to{opacity:1}}.shade-overlay{position:relative}.shade-overlay::after{animation:fade-in 500ms ease-in;content:"";position:absolute;background:rgba(97,97,97,.5);z-index:10;width:100%;height:100%}.cell{background:#3a8f88;border:1px solid #000}.cell.ship{background:#bdf5f9}.myboard .cell.ship.hidden-cell{background:#78a4a5}.cell.hidden-cell{background:#2e4d5c}.allships{width:400px;height:400px;border:1px solid #2e2e2e;display:flex;gap:20px;padding:10px;position:relative;background:#3a8f88}.ship-unplaced-container{display:flex;gap:10px}.ship-unplaced-container-h{flex-direction:column}.ship-unplaced-container-v{flex-wrap:wrap}.ship-unplaced{display:flex}.ship-unplaced .ship-cell{background:#bdf5f9;min-width:40px;aspect-ratio:1}.ship-unplaced .ship-v{border:none}.ship-unplaced-h{width:fit-content}.ship-unplaced-v{height:fit-content;flex-direction:column}.btn-container{width:100%;height:fit-content;display:flex;justify-content:center;gap:20px}.btn{width:140px;height:60px;font-size:1.125rem;text-transform:uppercase;border-radius:10px;background:#2e4d5c;border:5px solid #bdf5f9;color:#bdf5f9}.btn-play{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.btn-hidden{display:none}.gameover-container{animation:fade-in 1000ms ease;position:absolute;width:100%;height:100%;background-color:transparent;top:50%;left:50%;transform:translate(-50%, -50%);display:flex;justify-content:center;align-items:center;z-index:100;backdrop-filter:brightness(60%) blur(5px)}.gameover-container .gameover{padding:2rem;text-align:center;background:#3a8f88;border-radius:15px}.gameover-container .gameover .winner-info{font-size:1.25rem;margin-bottom:25px;color:#bdf5f9}',""]);const s=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);n&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],d=n.base?c[0]+n.base:c[0],l=i[d]||0,h="".concat(d," ").concat(l);i[d]=l+1;var u=r(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=a(p,n);n.byIndex=s,t.splice(s,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var c=n(e,a),d=0;d<i.length;d++){var l=r(i[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=c}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(379),t=r.n(e),n=r(795),a=r.n(n),i=r(569),o=r.n(i),s=r(565),c=r.n(s),d=r(216),l=r.n(d),h=r(589),u=r.n(h),p=r(807),f={};f.styleTagTransform=u(),f.setAttributes=c(),f.insert=o().bind(null,"head"),f.domAPI=a(),f.insertStyleElement=l(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}var b=new WeakSet;function m(e,t,r){this.ships.push(new class{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"h",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:null,y:null};this.id=e,this.length=t,this.positions=Array.from({length:this.length},(()=>0)),this.coords=n,this.orientation=r}hit(e){this.positions[e]=1}isSunk(){for(var e of this.positions)if(0===e)return!1;return!0}}(e,t,r))}const g=class{constructor(e,t){this.name=e,this.gameboard=new class{constructor(e){var t,r;(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t=this,r=b),r.add(t),v(this,"board",[]),v(this,"ships",[]),this.boardName=e,this.initBoard(),this.initShips()}initBoard(){for(var e=0;e<10;e++)for(var t=0;t<10;t++)this.board.push({status:"blank",clicked:!1,x:e,y:t,shipID:null})}initShips(){y(this,b,m).call(this,1,5),y(this,b,m).call(this,2,4),y(this,b,m).call(this,3,3),y(this,b,m).call(this,4,2),y(this,b,m).call(this,5,2),y(this,b,m).call(this,6,1),y(this,b,m).call(this,7,1)}autoPlace(){this.clearShipPlacement(),this.generateRandomOrientation(),this.ships.forEach((e=>{var{x:t,y:r}=this.generateRandomCoords(e);this.placeShip(e,t,r)}))}placeShip(e,t,r){e.coords.x=t,e.coords.y=r;var n=this.board.findIndex((e=>e.x===t&&e.y===r));if("h"===e.orientation)for(var a=0;a<e.length;a++)this.board[n+a].status="ship",this.board[n+a].shipID=e.id;if("v"===e.orientation)for(var i=0;i<e.length;i++)this.board[n+10*i].status="ship",this.board[n+10*i].shipID=e.id}switchOrientation(e){"h"!==e.orientation?"v"!==e.orientation||(e.orientation="h"):e.orientation="v"}generateRandomOrientation(){var e=["h","v"];this.ships.forEach((t=>{var r=Math.trunc(2*Math.random());t.orientation=e.at(r)}))}generateRandomCoords(e){for(;;){var t=Math.trunc(10*Math.random()),r=Math.trunc(10*Math.random());if(this.verifyCoords(e,t,r))return{x:t,y:r}}}verifyCoords(e,t,r){switch(e.orientation){case"h":return this.verifyCoords_h(e,t,r);case"v":return this.verifyCoords_v(e,t,r);default:return!1}}verifyCoords_h(e,t,r){var n=this,a=this.board.findIndex((e=>e.x===t&&e.y===r));if("ship"===this.board[a].status)return!1;if(r+e.length-1>9)return!1;var i=!1;r--;for(var o=function(e){var a=n.board.find((e=>e.x===t&&e.y===r));if(r++,!a)return"continue";if("ship"===a.status)return i=!0,"break";var o=n.board.find((e=>e.x===t-1&&e.y===a.y)),s=n.board.find((e=>e.x===t+1&&e.y===a.y));return"ship"===(null==o?void 0:o.status)||"ship"===(null==s?void 0:s.status)?(i=!0,"break"):void 0},s=0;s<e.length+2;s++){var c=o();if("continue"!==c&&"break"===c)break}return!i}verifyCoords_v(e,t,r){var n=this,a=this.board.findIndex((e=>e.x===t&&e.y===r));if("ship"===this.board[a].status)return!1;if(t+e.length-1>9)return!1;var i=!1;t--;for(var o=function(e){var a=n.board.find((e=>e.x===t&&e.y===r));if(t++,!a)return"continue";if("ship"===a.status)return i=!0,"break";var o=n.board.find((e=>e.y===r-1&&e.x===a.x)),s=n.board.find((e=>e.y===r+1&&e.x===a.x));return"ship"===(null==o?void 0:o.status)||"ship"===(null==s?void 0:s.status)?(i=!0,"break"):void 0},s=0;s<e.length+2;s++){var c=o();if("continue"!==c&&"break"===c)break}return!i}clearShipPlacement(){this.board.forEach((e=>{e.status="blank",e.shipID=null})),this.ships.forEach((e=>{e.orientation="h",e.coords={x:null,y:null}}))}findShip(e){return this.ships.find((t=>t.id===e))}findShipPos(e,t){var r;return"h"===t.orientation&&(r=e.y-t.coords.y),"v"===t.orientation&&(r=e.x-t.coords.x),r}checkSunk(){return this.ships.every((e=>e.isSunk()))}findClickCell(){for(var e=this,t=function(){var t=Math.trunc(10*Math.random()),r=Math.trunc(10*Math.random()),n=e.board.find((e=>e.x===t&&e.y===r));return n.clicked?"continue":{v:n}};;){var r=t();if("continue"!==r&&"object"==typeof r)return r.v}}}(t)}};var x=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.gameboard;e.innerHTML="",document.documentElement.style.setProperty("--size",10),n.board.forEach((t=>{var n="";r&&(t.clicked||(n="hidden-cell"));var a='\n      <div class="cell '.concat(t.status," ").concat(n,'" data-x="').concat(t.x,'" , data-y="').concat(t.y,'" data-shipid="').concat(t.shipID,'"></div>\n    ');e.insertAdjacentHTML("beforeend",a)}))},k=function(e){var t=document.querySelector(".ship-unplaced-container-h"),r=document.querySelector(".ship-unplaced-container-v");t.innerHTML="",r.innerHTML="",e.forEach((e=>{if((null===e.coords.x||null===e.coords.y)&&"v"!==e.orientation){for(var r="",n=0;n<e.length;n++)r+='\n          <div class="cell ship-cell"></div>\n      ';var a='<div class="ship-unplaced ship-unplaced-'.concat(e.orientation,'" data-id="').concat(e.id,'">').concat(r,"</div>");t.insertAdjacentHTML("beforeend",a)}})),e.forEach((e=>{if((null===e.coords.x||null===e.coords.y)&&"h"!==e.orientation){for(var t=e.orientation,n="",a=0;a<e.length;a++)n+='\n          <div class="cell ship-cell"></div>\n      ';var i='<div class="ship-unplaced ship-unplaced-'.concat(t,'" data-id="').concat(e.id,'">').concat(n,"</div>");r.insertAdjacentHTML("beforeend",i)}})),0===t.children.length&&0===r.children.length?document.querySelector(".btn-play").classList.remove("btn-hidden"):document.querySelector(".btn-play").classList.add("btn-hidden")};var S=function(e,t){x(document.querySelector(".myboard"),e,!0),x(document.querySelector(".computerboard"),t,!0)},w=function(e,t){var r=document.querySelector(".".concat(e.gameboard.boardName)),n=document.querySelector(".".concat(t.gameboard.boardName));r.classList.add("shade-overlay"),n.classList.remove("shade-overlay")};function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C,M,A;C=new g("Me","myboard"),M=new g("Computer","computerboard"),A=new class{constructor(e,t){P(this,"attackdelay",1500),P(this,"currentPlayer",void 0),P(this,"currentPlayerAttacks",void 0),this.player1=e,this.player2=t,this.currentPlayer=e,this.currentPlayerAttacks=t,this.game_Over=!1}gameStart(){var e,t,r;e=this.player1,t=e.gameboard,(r=document.querySelector(".root")).innerHTML="",r.insertAdjacentHTML("afterbegin",'\n  <div class="btn-container">\n    <button id="autoPlace" class="btn">AUTO PLACE</button>\n    <button id="clear" class="btn">clear</button>\n  </div>\n  <div class="start boards-container">\n        <div class="myboard gameboard"></div>\n        <div class="allships">\n          <button class="btn btn-play btn-hidden">PLAY</button>\n          <div class="ship-unplaced-container ship-unplaced-container-v"></div>\n          <div class="ship-unplaced-container ship-unplaced-container-h"></div>\n        </div>\n    </div>\n  '),x(document.querySelector(".myboard"),e),k(t.ships),document.getElementById("autoPlace").addEventListener("click",(r=>{t.clearShipPlacement(),t.autoPlace(),x(document.querySelector(".myboard"),e),k(t.ships)})),document.getElementById("clear").addEventListener("click",(()=>{t.clearShipPlacement(),x(document.querySelector(".myboard"),e),k(t.ships)})),document.querySelector(".allships").addEventListener("click",(e=>{var r=e.target.closest(".ship-unplaced");if(r){console.log(r);var n=r.dataset.id,a=t.ships.find((e=>e.id==n));console.log(a),t.switchOrientation(a),console.log(a),k(t.ships)}}))}gamePlay(){(function(e,t){var r=document.querySelector(".root");r.innerHTML="",r.insertAdjacentHTML("afterbegin",'\n    <div class="play boards-container">\n        <div class="myboard gameboard"></div>\n        <div class="computerboard gameboard"></div>\n    </div>\n  '),S(e,t),w(e,t)})(this.player1,this.player2),document.querySelector(".boards-container").addEventListener("click",(e=>{this.currentPlayer!==this.player2&&(this.game_Over||e.target.closest(".gameboard")&&e.target.closest(".gameboard").classList.contains(this.player2.gameboard.boardName)&&this.checkCell(e.target))}))}checkCell(e){var t=this.findCell(e);!0!==t.clicked&&this.clickCell(t)}findCell(e){return this.currentPlayerAttacks.gameboard.board.find((t=>{if(t.x===+e.dataset.x&&t.y===+e.dataset.y)return!0}))}clickCell(e){if(e.clicked=!0,S(this.player1,this.player2),null!==e.shipID){var t=this.currentPlayerAttacks.gameboard.findShip(e.shipID),r=this.currentPlayerAttacks.gameboard.findShipPos(e,t);if(t.hit(r),t.isSunk()&&this.clickAllNeighbours(t),this.currentPlayerAttacks.gameboard.checkSunk())return void this.gameOver(this.currentPlayer)}this.switchPlayers()}switchPlayers(){this.currentPlayer===this.player1?(this.currentPlayer=this.player2,this.currentPlayerAttacks=this.player1):this.currentPlayer===this.player2&&(this.currentPlayer=this.player1,this.currentPlayerAttacks=this.player2),w(this.currentPlayer,this.currentPlayerAttacks),this.currentPlayer!==this.player2||this.autoClick()}autoClick(){var e=this.currentPlayerAttacks.gameboard.findClickCell();setTimeout((()=>{this.clickCell(e)}),this.attackdelay)}gameOver(e){this.game_Over=!0,function(e){var t=document.querySelector(".root"),r='\n      <div class="gameover-container">\n        <div class="gameover">\n          <p class="winner-info">WINNER: '.concat(e.name,'</p>\n          <button class="btn btn-restart">RESTART</button>\n        </div>\n      </div>    \n  ');t.insertAdjacentHTML("beforeend",r),document.querySelector(".btn-restart").addEventListener("click",(e=>{location.reload()}))}(e)}clickAllNeighbours(e){var t=e.coords.x,r=e.coords.y,n=this.currentPlayerAttacks.gameboard.board;if("h"===e.orientation){r--;for(var a=function(e){var a=n.find((e=>e.x===t&&e.y===r));if(console.log(a),r++,!a)return"continue";var i=n.find((e=>e.x===t-1&&e.y===a.y)),o=n.find((e=>e.x===t+1&&e.y===a.y));console.log(i,o),a.clicked=!0,i&&(i.clicked=!0),o&&(o.clicked=!0)},i=0;i<e.length+2;i++)a()}if("v"===e.orientation){t--;for(var o=function(e){var a=n.find((e=>e.x===t&&e.y===r));if(t++,!a)return"continue";var i=n.find((e=>e.y===r-1&&e.x===a.x)),o=n.find((e=>e.y===r+1&&e.x===a.x));a.clicked=!0,i&&(i.clicked=!0),o&&(o.clicked=!0)},s=0;s<e.length+2;s++)o()}S(this.player1,this.player2)}}(C,M),M.gameboard.autoPlace(),A.gameStart(),document.querySelector(".btn-play").addEventListener("click",(()=>{A.gamePlay()}))})()})();